<!-- Tabla de solicitdes en el sistema -->
    <div class="panel panel-default">
        <form name="f1" class="panel-body" id = "Solicitudes">
            <div class="row"> 
                <div class="col-md-5 col-md-offset-4">
                    <h1>Modulo de Reportes</h1> 
                </div>
               
            </div>
            <div class="row well">
                 <div class="col-md-4 col-md-offset-1" >
                <input class = 'bootstrapSwitch bootstrap-switch-wrapper bootstrap-switch-id-switch-state bootstrap-switch-animate bootstrap-switch-on' data-id = '0' data-on-color = 'primary' data-off-color  = 'success' data-off-text = 'Solicitudes' data-on-text = 'Estudiantes' type='checkbox' name='my-checkbox'>  

                </div>
                <div class="col-md-6">
                    <p>Tienes que elegir entre Estudiantes y solicitudes y luego seleccionar las columnas que se deseen exportar</p>
                </div>
            </div>
           <!-- Tabla de solicitdes en el sistema -->
            
                  <!--   <div class = "col-md-6">
                      <div class="panel panel-default ">
                          <div class="panel-body">   
                              <div class="col-xs-6">
                                  <div class="checkbox checkbox-primary">
                                      <input id="check_numeroCuenta" class=" toggle-vis styled" data-column="0"   type="checkbox" checked>
                                      <label for="checkbox1">
                                          Numero de Cuenta
                                      </label>
                                  </div>
                                  <div class="checkbox checkbox-primary">
                                      <input id="check_numeroIdentidad" class="toggle-vis styled" data-column="1" type="checkbox" checked >
                                      <label for="checkbox2">
                                          Numero de Identidad
                                      </label>
                                  </div>
                                  <div class="checkbox checkbox-primary">
                                      <input id="check_nombre" class="toggle-vis styled" data-column="2"  type="checkbox"checked>
                                      <label for="checkbox3">
                                          Nombre
                                      </label>
                                  </div>
                                  <div class="checkbox checkbox-primary">
                                      <input id="check_correo" class="toggle-vis styled" data-column="3"  type="checkbox"checked>
                                      <label for="checkbox4">
                                          Correo
                                      </label>
                                  </div>
                                  <div class="checkbox checkbox-primary">
                                      <input id="check_indice" class="toggle-vis styled" data-column="4"  type="checkbox"checked>
                                      <label for="checkbox5">
                                          Indice Academico
                                      </label>
                                  </div>
                              </div>
                              <div class="col-xs-6">
                                  <div class="checkbox checkbox-primary">
                                          <input id="check_mencion" class="toggle-vis styled" data-column="5" type="checkbox"checked>
                                          <label for="checkbox6">
                                              Mencion Honorifica
                                          </label>
                                      </div>
                                      <div class="checkbox checkbox-primary">
                                          <input id="check_solicitudes" class="toggle-vis styled"  data-column="6" type="checkbox"checked >
                                          <label for="checkbox7">
                                              Solicitudes
                                          </label>
                                      </div>
                                      <div class="checkbox checkbox-primary">
                                          <input id="check_plan" class=" toggle-vis styled" data-column="7" type="checkbox"checked>
                                          <label for="checkbox8">
                                             Plan de Estudio
                                          </label>
                                      </div>
                                      <div class="checkbox checkbox-primary">
                                          <input id="check_orientacion" class="toggle-vis styled" data-column="8"  type="checkbox"checked>
                                          <label for="checkbox9">
                                             Orientacion
                                          </label>
                                      </div>
                                      <div class="checkbox checkbox-primary">
                                          <input id="check_ciudadOrigen" class="toggle-vis styled" data-column="9"  type="checkbox"checked>
                                          <label for="checkbox10">
                                             Ciudad Origen
                                          </label>
                                      </div>
                                      <div class="checkbox checkbox-primary">
                                          <input id="check_residencia" class="toggle-vis styled" data-column="10"  type="checkbox"checked>
                                          <label for="checkbox11">
                                             Residencia Actual
                                          </label>
                                      </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  
                              <div class = "col-md-6">
                  
                                  <div class="panel panel-default ">
                  <div class="panel-body">
                          <div class="col-xs-6">
                             <div class="checkbox checkbox-success">
                                  <input id="check_soliEstudiante" class=" toggle-vis1 styled" data-column="0"   type="checkbox" checked>
                                  <label for="checkbox12">
                                      Estudiante
                                  </label>
                              </div>
                              <div class="checkbox checkbox-success">
                                  <input id="check_fechaSolicitud" class="toggle-vis1 styled" data-column="1"  type="checkbox"checked>
                                  <label for="checkbox13">
                                      Fecha
                                  </label>
                              </div>
                              <div class="checkbox checkbox-success">
                                  <input id="check_observaciones" class="toggle-vis1 styled" data-column="2"  type="checkbox"checked>
                                  <label for="checkbox14">
                                      Observaciones
                                  </label>
                              </div>
                              <div class="checkbox checkbox-success">
                                  <input id="check_estado" class="toggle-vis1 styled" data-column="3" type="checkbox" checked >
                                  <label for="checkbox15">
                                      Estado
                                  </label>
                              </div>
                              <div class="checkbox checkbox-success">
                                  <input id="check_solidni" class="toggle-vis1 styled" data-column="4"  type="checkbox"checked>
                                  <label for="checkbox16">
                                      DNI Estudiante
                                  </label>
                              </div>
                              <div class="checkbox checkbox-success">
                                  <input id="check_tipoSolicitud" class=" toggle-vis1 styled" data-column="5"   type="checkbox" checked>
                                  <label for="checkbox17">
                                      Tipo de Solicitud
                                  </label>
                              </div>
                              <div class="checkbox checkbox-success">
                                  <input id="check_periodo" class="toggle-vis1 styled" data-column="6"  type="checkbox"checked>
                                  <label for="checkbox18">
                                      Periodo de solicitud
                                  </label>
                              </div>
                          </div>
                          <div class="col-xs-6">
                              <div class="checkbox checkbox-success">
                                  <input id="check_himno" class="toggle-vis1 styled" data-column="6"  type="checkbox"checked>
                                  <label for="checkbox19">
                                      himno
                                  </label>
                              </div>
                              
                          </div>
                      
                  </div>
                                  </div>
                            
                  </div> -->
        <!-- Tabla de solicitdes en el sistema -->
        <div class = "col-md-12">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <label><span class="glyphicon glyphicon-list" aria-hidden="true"></span> Solicitudes </label>
                </div>
                <div class="panel-body" id = "Solicitudes" style = "background-color : white;">
                    <section id = "tablaReportes"class="" style = "  padding: 20px 15px; background: #f9f9f9;">
                       
                    </section>
                </div>
            </div>
        </div>
            </form>
    </div>

<script>
    
    $(document).ready(function() {
        $.ajax('pages/SecretariaAcademica/GeneracionReportes/cargar_tablaSolicitudes.php')
            .done(function(data){
                $('#tablaReportes').html(data);
                aplicarSolicitudes();
            });

       $("[name='my-checkbox']").bootstrapSwitch();
       $('[name="my-checkbox"]').on('switchChange.bootstrapSwitch', function(event, state) {
          if (state == true) {
            estado = 1;
            $.ajax({
               url: 'pages/SecretariaAcademica/GeneracionReportes/cargar_tablaEstudiantes.php',
               type : 'post',
               success: function(data) {
                     $('#tablaReportes').html(data);
                     aplicarEstudiantes();
                     marcarCheckbox();
                }
             });
          }
          else {
            estado = 0;
            $.ajax({
               url: 'pages/SecretariaAcademica/GeneracionReportes/cargar_tablaSolicitudes.php',
               type : 'post',
               success: function(data) {
                     $('#tablaReportes').html(data);
                     aplicarSolicitudes();
                     marcarCheckbox();
                 }
            });
          }
       });
    } );
    // fin de document.ready


    function aplicarEstudiantes(){
        var table = $('#tableEstudiantes').DataTable({
            dom: 'Bfrtip',
        buttons: [

            {
                extend: 'copyHtml5',
                exportOptions: {
                    columns: [ 0, ':visible' ]
                }
            },
            {
                extend: 'excelHtml5',
                exportOptions: {
                    columns: ':visible'
                },
                download: 'open'
            },
            {
                extend: 'pdfHtml5',
                exportOptions: {
                    columns: ':visible'
                },
                download: 'open'
            },
            {
                extend: 'print',
                exportOptions: {
                    columns: ':visible'
                }
            },
            'colvis'
        ]
         });

        $('.toggle-vis').on( 'click', function (e) {
            // Get the column API object
            var column = table.column( $(this).attr('data-column') );
     
            // Toggle the visibility
            column.visible( ! column.visible() );
            $(this).attr('color', ' blue');
        });
        $(".toggle-vis1").prop("disabled", "disabled");
    }

    function aplicarSolicitudes(){
        var table = $('#tableSolicitudes').DataTable({
                dom: 'Bfrtip',
        buttons: [
            {
                extend: 'copyHtml5',
                exportOptions: {
                    columns: [ 0, ':visible' ]
                }
            },
            {
                extend: 'excelHtml5',
                download: 'open',
                exportOptions: {
                    columns: ':visible'
                }
            },
            {
                extend: 'pdfHtml5',
                download: 'open',
                exportOptions: {
                    columns: ':visible'
                }
            },
            {
                extend: 'print',
                exportOptions: {
                    columns: ':visible'
                }
            },
            'colvis'
        ]
            });

        $('.toggle-vis1').on( 'click', function (e) {
            // Get the column API object
            var column = table.column( $(this).attr('data-column') );
     
            // Toggle the visibility
            column.visible( ! column.visible() );
            $(this).attr('color', ' blue');
        });
        $(".toggle-vis1").prop("disabled", "");
    }
   
   function marcarCheckbox(){
        for (i=0;i<document.f1.elements.length;i++) 
          if(document.f1.elements[i].type == "checkbox")    
                document.f1.elements[i].checked=1
    }
</script>
                               